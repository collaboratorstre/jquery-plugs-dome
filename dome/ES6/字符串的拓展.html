<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>字符串的拓展</title>
</head>
<body>
	
	<script type="text/javascript">
		//字符串遍历接口
		//ES6为字符串添加了遍历器，使得字符串可以被for...of循环遍历
		for(let codePoint of 'foo'){
			console.log(codePoint);
		}
		//"f"
		//"o"
		//"o"
		//除了遍历字符串，这个遍历器最大的有点事可以识别大于0xFFFF的码点，传统的for循环无法识别这样的码点。
		let text = String.fromCodePoint(0x20BB7);
		for(let =0,i<text.length; i++){
			console.log(text[i]);
		}
		//""
		//""
		for(let i of text){
			console.log(i);
		}
		//"吉"
		//上述代码中，字符串text只有一个字符串，但是for循环会认为它包含两个字符（都不可打印），而for....of循环会正常识别出这一个字符
		
		//at()
		//ES5 对字符串对象提供charAt方法，返回字符串给定位置的字符。该方法不能识别码点大于0xFFFF的字符。
		'abc'.charAt(0) // "a"
		'𠮷'.charAt(0) // "\uD842"
		//上面代码中的第二条语句，charAt方法期望返回的是用2个字节表示的字符，但汉字“𠮷”占用了4个字节，charAt(0)表示获取这4个字节中的前2个字节，很显然，这是无法正常显示的。
		//目前，有一个提案，提出字符串实例的at方法，可以识别 Unicode 编号大于0xFFFF的字符，返回正确的字符。
		'abc'.at(0) // "a"
		'𠮷'.at(0) // "𠮷"

		
		
	</script>

</body>
</html>